---
title: "Datacamp data.table Class Exercises"
author: "Trenton Potgieter"
date: "Sunday, November 02, 2014"
output: pdf_document
---

##Chapter 1
###Exercise 1 - Create and Subset a data.table

* Create a data.table __my_first_data_table__ with a column x = c("a","b","c","d","e") and a column y = c(1,2,3,4,5). Use data.table().  
* Create a two-column data.table DT that contains the four integers 1,2,1,2 in the first column a and the letters A,B,C,D in the second column b. Use recycling.  
* Select the third row of DT and just print the result to the console.  
* Select the second and third rows without using any comma at all and print the result to the console.  

```{r exercise_1, echo = TRUE}
library("data.table")

# Create your first data.table 
my_first_data_table <- data.table(x = c("a","b","c","d","e"),y = c(1,2,3,4,5))  

# Create a data.table using recycling
DT <- data.table(a = c(1L,2L), ## Note the "L" for integers
                 b = LETTERS[1:4]) ## Note "LETTERs" so no need to do this:
## b = c("A", "B", "C", "D")

# Print the third row to the console
DT[3]

# Print the second and third row to the console, but do not use any comma at all
DT[2:3]

```

###Exercise 2 - Get to know data.table
* Select the penultimate row of the table. Make use of .N for this.  
* Return the column names of the data.table.  
* Return the number of rows and number of columns of the data.table.  
* Select row 2 twice and row 3, returning a data.table with three rows where row 2 is a duplicate of row 1.  

```{r exercise_2, echo = TRUE}
# Print the penultimate row of DT using `.N`
DT[.N-1]

# Print the column names of DT, and number of rows and number of columns
names(DT) ## or colnames(DT)
dim(DT)

# Select row 2 twice and row 3, returning a data.table with three rows where row 2 is a duplicate of row 1.
DT[c(2,2,3)]

```

###Exercise 3 - Subsetting data tables
__Remember__ "Take DT, subset rows using i, then calculate j grouped by by".

In the video, the second argument j was covered. j can be used to select columns by wrapping the column names in .(). In addition to selecting columns, you can also call functions on them as if the columns were variables.

* Create a subset columns B and C for rows 1 and 3, and print the result to the console.
* Assign to ans a data.table that contains two columns: B and val, where val is the product of A and C.
* Assign to answ another data.table answ <- DT[, .(B, val = __BLANK__ )]. Fill in the blanks such that answ equals data.table(B=c("a", "b", "c", "d", "e", "a", "b", "c", "d", "e"), val = as.integer(c(6,7,8,9,10,1,2,3,4,5))).

```{r exercise_3, echo = TRUE}
# Create the data,table DT
DT <- data.table(A = 1:5, B = c("a", "b", "c", "d", "e"), C = 6:10)

# Subset rows 1 and 3, and columns B and C
DT[c(1, 3), .(B, C)]

# Assign to ans the correct value
ans <- data.table(B = DT[, B], val = DT[,A * C])
# Note: Official solution is ans <- DT[, .(B, val = A * C)]

# Fill in the blank
answ <- DT[, .(B, val = c(C, A))]

```

