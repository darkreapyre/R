---
title: "My Model Selection in R Notes"
author: "Trenton Potgieter"
date: "Saturday, February 21, 2015"
output: html_document
---

## Overview

The data for this exercise will be from the __ISLR__ package, specifically the __Hitters__ dataset, which is the Major League Baseball Data for different Baseball players from the 1986 an 1987 sessions.

```{r packages, echo = TRUE}
# Load the required packages
require(ISLR)
require(leaps)

#View the data
summary(Hitters)

```

__Note__ from the summary that there is missing data, specifically in __Salary__ column. Therefore, before proceeding, we must remove the missing values as __Salary__ will be used as the response variable for the Regression Model. Although there are many ways to deal with Missing Values, for the sake of this exercise, we will take the easy way out and simply remove any row that has missing values.

```{r clean, echo = TRUE}
#View current amount of NA's in Salary
with(Hitters, sum(is.na(Salary)))

#Remove NA's in Salary
Hitters <- na.omit(Hitters)

#Confirm the NA's have been removed
with(Hitters, sum(is.na(Salary)))

```

# Best Subset Regression  
## Overview 

Best Subset Regression looks at all the possible regression models of differnt subsets of size and then looks for the best model of each size. It's output is a sequence of models, wich is the best for each particular size. The __leaps__ package allows this to be done compuationally in __R__, specifically the __regsubsets()__ function. 

```{r regfit, echo = TRUE}
#Execute the best subset regression with Salary as the response
regfit <- regsubsets(Salary~., data = Hitters)

#Summary
summary(regfit)

```

__Note__ that by default it gives the best-subsets up to size 8. Since we have 19 variables we execute the test with all variables.

```{r regfit.full, echo = TRUE}
#execute the best subset regression with Salary as the response and all 19 variables
regfit.full <- regsubsets(Salary~., data = Hitters, nvmax = 19)

#Summary
fit.summary <- summary(regfit.full)
fit.summary

#Plot
plot(fit.summary$cp, xlab = "No. of Variables", ylab = "CP Statistic")

```

